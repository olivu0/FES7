<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>javascript type</title>
  </head>
  <body>
    <script>
      let a = "a"; // 97
      let b = "b"; // 98
      console.log(a + b); // ab, 왜 195가 아니라 97+98이 나올까?

      let x = 10;
      let y = 20;
      let z = "lee";
      let k = "booyoung";
      console.log(x + y); // 30
      console.log(z + k); // 'leebooyoung'

      // typeof가 정확하게 나오긴 하지만 우리가 원하는 값이 아닐 수도 있다
      console.log(typeof x); //number
      console.log(typeof z); // string
      console.log(typeof [1, 2, 3]); // object

      // typecheck하는 함수(typeof 대신 사용)
      function typeCheck(value) {
        const return_value = Object.prototype.toString.call(value);
        const type = return_value.substring(return_value.indexOf(" ") + 1, return_value.indexOf("]"));
        return type.toLowerCase();
      }

      console.log(typeCheck(x)); // number
      console.log(typeCheck(z)); //string
      console.log(typeCheck([1, 2, 3])); // array

      // Object.prototype.toString.call
      // 이것을 사용하면 보다 정확한 type을 알 수 있다

      console.log(typeof null); // javascript의 버그, return object
      console.log(typeCheck(null)); // return null

      console.log(typeof 10); // number
      console.log(typeof "10"); // string
      console.log(typeof [1, 2, 3]); // object
      console.log(typeof []); // object
      console.log(typeof {}); // object
      console.log(typeof function () {}); // function
      console.log(typeof /a/g); // object
      console.log(typeof true); // boolean
      console.log(typeof NaN); // number
      console.log(typeof undefined); // undefined

      console.log(typeCheck(10)); // number
      console.log(typeCheck("10")); // string
      console.log(typeCheck([1, 2, 3])); // array
      console.log(typeCheck([])); // array
      console.log(typeCheck({})); // object
      console.log(typeCheck(function () {})); // function
      console.log(typeCheck(/a/g)); // regexp
      console.log(typeCheck(true)); // boolean
      console.log(typeCheck(NaN)); // number
      console.log(typeCheck(undefined)); // undefined
    </script>
  </body>
</html>
